<!doctype html>
<!--
Copyright 2025 Asher Buk
SPDX-License-Identifier: Apache-2.0
https://github.com/AshBuk/FingerGo
-->
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>FingerGo</title>
        <link rel="stylesheet" href="styles/main.css" />
        <link rel="stylesheet" href="styles/modals.css" />
        <link rel="stylesheet" href="styles/keyboard.css" />
        <link rel="stylesheet" href="styles/library.css" />
        <link id="theme-css" rel="stylesheet" href="styles/theme-dark.css" />
    </head>
    <body class="theme-dark">
        <div id="app" class="theme-dark">
            <div id="top-action-bar" role="region" aria-label="Quick actions">
                <button
                    id="theme-toggle"
                    class="top-action-button"
                    aria-label="Toggle theme"
                    title="Toggle theme"
                    type="button"
                >
                    üåô
                </button>
                <button
                    id="color-settings"
                    class="top-action-button"
                    aria-label="Color settings"
                    title="Customize colors"
                    type="button"
                >
                    üé®
                </button>
                <button
                    id="zen-toggle"
                    class="top-action-button"
                    aria-label="Toggle Zen mode"
                    title="Toggle Zen mode (Ctrl+Alt+Z)"
                    type="button"
                >
                    üßò
                </button>
                <button
                    id="stats-toggle"
                    class="top-action-button"
                    aria-label="Toggle stats bar"
                    title="Toggle stats bar (Ctrl+Alt+S)"
                    type="button"
                >
                    üìä
                </button>
                <button
                    id="keyboard-toggle"
                    class="top-action-button"
                    aria-label="Toggle keyboard"
                    title="Toggle keyboard (Ctrl+Alt+K)"
                    type="button"
                >
                    ‚å®Ô∏è
                </button>
                <button
                    id="reset-session"
                    class="top-action-button"
                    aria-label="Reset session"
                    title="Reset session (Ctrl+Alt+R)"
                    type="button"
                >
                    ‚Üª
                </button>
            </div>
            <!-- Text Display Area -->
            <section id="text-area">
                <div id="text-display"></div>
                <textarea
                    id="text-input"
                    aria-label="Typing input"
                    autocomplete="off"
                    autocorrect="off"
                    autocapitalize="off"
                    spellcheck="false"
                ></textarea>
            </section>

            <!-- Statistics Bar (moved out of #keyboard to keep visible) -->
            <section id="stats-bar">
                <div class="stat-item">
                    <span class="stat-label">WPM</span>
                    <span class="stat-value" id="wpm">0</span>
                </div>
                <div class="stat-item">
                    <span class="stat-label">CPM</span>
                    <span class="stat-value" id="cpm">0</span>
                </div>
                <div class="stat-item">
                    <span class="stat-label">Accuracy</span>
                    <span class="stat-value" id="accuracy">100%</span>
                </div>
                <div class="stat-item">
                    <span class="stat-label">Time</span>
                    <span class="stat-value" id="timer">00:00</span>
                </div>
            </section>

            <!-- Keyboard Section -->
            <section id="keyboard-section">
                <div id="keyboard">
                    <!-- Keyboard will be generated by JavaScript -->
                </div>
            </section>

            <!-- Library Controls (right edge) -->
            <div id="library-controls" role="region" aria-label="Library controls">
                <button
                    id="library-toggle"
                    aria-label="Library"
                    title="Library (Ctrl+Alt+L)"
                    type="button"
                >
                    üìö
                </button>
                <button
                    id="text-add"
                    aria-label="Add New"
                    title="Add New (Ctrl+Alt+N)"
                    type="button"
                >
                    üìÅ
                </button>
            </div>

            <!-- Library Sidebar (slide-in panel) -->
            <aside id="library-sidebar" aria-label="Library">
                <header class="sidebar-header">
                    <h3>Library</h3>
                    <button id="sidebar-close" aria-label="Close sidebar">‚úï</button>
                </header>
                <div class="sidebar-content">
                    <nav id="category-tree">
                        <!-- Generated by library.js -->
                    </nav>
                    <div id="text-list">
                        <!-- Generated by library.js -->
                    </div>
                </div>
            </aside>

            <!-- Modal Overlay -->
            <div id="modal-overlay" class="modal-hidden">
                <div id="modal-container">
                    <div id="modal-header">
                        <h2 id="modal-title"></h2>
                        <button id="modal-close" aria-label="Close modal" tabindex="-1">‚úï</button>
                    </div>
                    <div id="modal-content">
                        <!-- Dynamic content injected by modals.js -->
                    </div>
                </div>
            </div>
        </div>

        <script src="wailsjs/wailsjs/runtime/runtime.js"></script>
        <!-- Event system: must load first as all modules depend on it -->
        <script src="js/events.js"></script>
        <!-- Constants: application-wide shared values -->
        <script src="js/constants.js"></script>
        <!-- Utility functions: key normalization (used by keyboard, typing, app) -->
        <script src="js/utils.js"></script>
        <!-- Keyboard layouts: load individual layouts before registry -->
        <script src="js/layouts/en-qwerty.js"></script>
        <!-- <script src="js/layouts/ru-jcuken.js"></script> -->
        <script src="js/layouts.js"></script>
        <script src="js/keyboard.js"></script>
        <script src="js/typing.js"></script>
        <script src="js/modals.js"></script>
        <script src="js/ui.js"></script>
        <script src="js/stats.js"></script>
        <script src="js/colors.js"></script>
        <!-- Settings, session, library, shortcuts: modular architecture -->
        <script src="js/settings.js"></script>
        <script src="js/session.js"></script>
        <script src="js/library.js"></script>
        <script src="js/shortcuts.js"></script>
        <script src="js/app.js"></script>
    </body>
</html>
